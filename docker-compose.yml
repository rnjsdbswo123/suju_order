version: '3.8'

services:
  app:
    build:
      context: .
    restart: always
    ports:
      - "449:8009"  # 외부 포트(왼쪽)를 449번으로 변경. 내부 포트는 8009번 유지.
    volumes:
      # app_data 볼륨을 컨테이너의 /app/data 디렉토리에 마운트합니다.
      # 이를 통해 SQLite 데이터베이스와 미디어 파일이 영속적으로 보존됩니다.
      - app_data:/app/data

volumes:
  # 데이터 영속성을 위한 Docker 볼륨을 정의합니다.
  app_data:
